<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Hugo Tameirão Seixas">

<title>Integrated farming and global warming mitigation in Brazil</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="manuscript_files/libs/clipboard/clipboard.min.js"></script>
<script src="manuscript_files/libs/quarto-html/quarto.js"></script>
<script src="manuscript_files/libs/quarto-html/popper.min.js"></script>
<script src="manuscript_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="manuscript_files/libs/quarto-html/anchor.min.js"></script>
<link href="manuscript_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="manuscript_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="manuscript_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="manuscript_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="manuscript_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="manuscript_files/libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="manuscript_files/libs/viz-1.8.2/viz.js"></script>
<link href="manuscript_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="manuscript_files/libs/grViz-binding-1.0.9/grViz.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#materials-and-methods" id="toc-materials-and-methods" class="nav-link" data-scroll-target="#materials-and-methods">Materials and Methods</a>
  <ul class="collapse">
  <li><a href="#integrated-crop-livestock-forest-overview" id="toc-integrated-crop-livestock-forest-overview" class="nav-link" data-scroll-target="#integrated-crop-livestock-forest-overview">Integrated crop-livestock-forest overview</a></li>
  <li><a href="#model-projections" id="toc-model-projections" class="nav-link" data-scroll-target="#model-projections">Model projections</a></li>
  <li><a href="#critical-analysis" id="toc-critical-analysis" class="nav-link" data-scroll-target="#critical-analysis">Critical analysis</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions">Conclusions</a></li>
  <li><a href="#schedule" id="toc-schedule" class="nav-link" data-scroll-target="#schedule">Schedule</a></li>
  <li><a href="#supporting-information" id="toc-supporting-information" class="nav-link" data-scroll-target="#supporting-information">Supporting Information</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Integrated farming and global warming mitigation in Brazil</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <a href="hugotseixas.com">Hugo Tameirão Seixas</a> 
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            State University of Campinas
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    There is a high expectation in the reduction of liquid greenhouse gases in Brazil by the implementation of integrated crop-livestock-forestry systems. The foundation of such expectation relies in the hypothesis that these systems are capable of storing more above and below ground carbon, in relation to conventional farming systems, due to the presence of trees. However, that are not robust estimates about the potential of these systems to store carbon in a national scale, and usually point estimates are used to extrapolate carbon sequestration. In order to improve the representation of carbon sequestration by integrated crop-livestock-forestry systems, this project aims to use published data to develop a spatially explicit model to estimate carbon fluxes in Brazil.
  </div>
</div>

</header>

<hr>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The implementation of integrated crop-livestock-forestry (ICLF) systems in Brazil are expected to sequester enough carbon to contribute to reduce annual liquid carbon emissions. Despite the expectations, there are not clear estimates of the magnitude of reductions of liquid emissions caused by ICLF expansion. Field studies show contrasting results. <span class="citation" data-cites="Valani2022">Valani et al. (<a href="#ref-Valani2022" role="doc-biblioref">2022</a>)</span> observed a higher organic carbon content in the soil in relation to conventional grazing and other integrated systems. <span class="citation" data-cites="Bieluczyk2020">Bieluczyk et al. (<a href="#ref-Bieluczyk2020" role="doc-biblioref">2020</a>)</span> field measurements did not show clear differences between extensive grazing and ICLF soil organic matter, with highly temporal heterogeneity in observations. <span class="citation" data-cites="Silva2018837">Silva et al. (<a href="#ref-Silva2018837" role="doc-biblioref">2018</a>)</span> found inconsistent differences of soil total organic carbon between pasture and ILPF system due to high heterogeneity of observations along the soil layers, and observed small differences between agriculture and integrated system, in which the agriculture presented higher carbon stocks. <span class="citation" data-cites="Oliveira2018105">Oliveira et al. (<a href="#ref-Oliveira2018105" role="doc-biblioref">2018</a>)</span> found higher amounts of soil organic carbon of two ICLF systems and continuous pasture areas, there were also observed differences between the two integrated systems.</p>
<p>Unfortunately, estimates of carbon sequestration by ICLF at larger scales usually use point estimates, which can severely bias the results towards one direction. <span class="citation" data-cites="Azevedo_2018">Azevedo et al. (<a href="#ref-Azevedo_2018" role="doc-biblioref">2018</a>)</span> used a CO<sub>2</sub>-eq removal factor of -6.24 t CO<sub>2</sub>-eq ha<sup>-1</sup> y<sup>-1</sup>, which was extracted from one experiment comparing integrated crop-livestock (ICL) systems to pasture <span class="citation" data-cites="Carvalho_2010">(<a href="#ref-Carvalho_2010" role="doc-biblioref">Carvalho et al. 2010</a>)</span>, and did not observe consistent differences between these types of systems. The removal factor was then extrapolated over estimated ILPF area, this simplification is the best guess that Brazil have over the potential of integrated systems in reducing liquid emissions. In face of such scenario, this study aims to generate estimations of CO<sub>2</sub>-eq removal accounting for variation in many aspects, soil attributes, ICLF system characteristics, species used, spacing and climate. We expect that such estimations will provide more realistic ranges of possible outcomes in a diverse set of future scenarios of ICLF expansion in Brazil.</p>
<hr>
</section>
<section id="objectives" class="level1">
<h1>Objectives</h1>
<p>The present work is composed by three main objectives, accompanied by parallel related questions:</p>
<ol type="1">
<li><p>Identify ICLF systems characteristics and dynamics in Brazil;</p>
<p>1.1. What are the management characteristics of ICLF systems?</p>
<p>1.2. What are the compositions of each component of ICLF systems?</p>
<p>1.3. What is the productivity of each component of ICLF systems?</p>
<p>1.4. What are the effects of ICLF system over soil properties?</p>
<p>1.5. What is the economical revenue of ICLF systems?</p>
<p>1.6. What is the potential expansion of ICLF systems in Brazil?</p></li>
<li><p>Estimate the potential of ICLF systems to provide benefits, in the context of climate change;</p>
<p>2.1. What are the ICLF system management characteristics that provide the best balance between carbon removal, productivity and financial revenue?</p>
<p>2.2. What are the main factors that influence the carbon removal in the modelling framework?</p>
<p>2.3. What is the pottential of the expansion of ICLF systems over the emissions reduction pledges made by Brazil?</p></li>
<li><p>Evaluate the implementation of ICLF as a mean to curb and mitigate climate change, in relation to different perspectives of solutions to avoid climatic catastrophe;</p>
<p>3.1. Does the expansion of ICLF systems taking into account equity and possible social impacts, as a public policy?</p>
<p>3.2. The actual strategies to promote the adoption of ICLF systems are being effective?</p>
<p>3.3. Does focusing on lowering net emissions a distraction from lowering gross emissions?</p></li>
</ol>
<hr>
</section>
<section id="materials-and-methods" class="level1">
<h1>Materials and Methods</h1>
<p>In order to achieve the proposed objective, the work will be divided in three major parts:</p>
<ol type="1">
<li><p>Overview of ICLF characteristics in Brazil;</p></li>
<li><p>Future projections and estimates of benefits generated by ICLF systems adoption;</p></li>
<li><p>Critical analysis of ICLF as a public policy to curb climate change;</p></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-d22a4e0b1454ef4b2ec1" style="width:100%;height:464px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-d22a4e0b1454ef4b2ec1">{"x":{"diagram":"digraph {\n  \n  graph [layout = dot, \n         rankdir = TD, \n         nodesep = 2, \n         ranksep = 0.5,\n         tooltip = \" \"]\n  \n  node [shape = box,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n\n  edge [penwidth = 2.5, \n        arrowsize = 2,\n        tooltip = \" \"]\n\n  a [label = \"Systematic \n Review\", xlabel = \"1\"]\n  b [label = \"Experts Survey\", xlabel = \"1\"]\n  c [label = \"ICLF overview \n data set\", xlabel = \"1\"]\n  d [label = \"Projections \n Scenarios\", xlabel = \"2\"]\n  e [label = \"LULC \n Projections\", xlabel = \"2\"]\n  f [label = \"Benefits \n Estimations\", xlabel = \"2\"]\n  g [label = \"Targeted \n Review\", xlabel = \"3\"]\n  h [label = \"Narrative \n Discussion\", xlabel = \"3\"]\n  \n  a -> c b -> c\n  c -> d d -> e\n  e -> f c -> f\n  f -> h g -> h\n  \n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="integrated-crop-livestock-forest-overview" class="level3">
<h3 class="anchored" data-anchor-id="integrated-crop-livestock-forest-overview">Integrated crop-livestock-forest overview</h3>
<section id="literature-review" class="level4">
<h4 class="anchored" data-anchor-id="literature-review">Literature review</h4>
</section>
<section id="experts-survey" class="level4">
<h4 class="anchored" data-anchor-id="experts-survey">Experts survey</h4>
</section>
</section>
<section id="model-projections" class="level3">
<h3 class="anchored" data-anchor-id="model-projections">Model projections</h3>
<section id="projections-scenarios" class="level4">
<h4 class="anchored" data-anchor-id="projections-scenarios">Projections scenarios</h4>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-d5ce6c4f032140ea5342" style="width:100%;height:464px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-d5ce6c4f032140ea5342">{"x":{"diagram":"digraph {\n  \n  graph [layout = dot,\n         rankdir = TD, \n         nodesep = 2, \n         ranksep = 0.4,\n         tooltip = \" \"]\n  \n  node [shape = box,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n\n  edge [penwidth = 2.5, \n        arrowsize = 2,\n        tooltip = \" \"]\n\n  a [label = \"Region\"]\n  b [label = \"Species\"]\n  c [label = \"Population\"]\n  d [label = \"Cycle Length\"]\n  e [label = \"Management \n Practices\"]\n  \n  a -> b b -> c\n  b -> d b -> e\n  \n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="lulc-projections" class="level4">
<h4 class="anchored" data-anchor-id="lulc-projections">LULC projections</h4>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-c14d14c2fc9b83ac2679" style="width:100%;height:464px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-c14d14c2fc9b83ac2679">{"x":{"diagram":"digraph {\n  \n  graph [layout = dot,\n         rankdir = LR, \n         nodesep = 1.2, \n         ranksep = 0.5,\n         tooltip = \" \"]\n  \n  node [shape = box,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n\n  edge [penwidth = 2.5, \n        arrowsize = 2,\n        tooltip = \" \"]\n\n  a [label = \"Pasture\"]\n  b [label = \"Transition \n (ICL)\"]\n  c [label = \"ICLF\"]\n  \n    node [shape = oval,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n        \n  e [label = \"Random Variables\"]\n  f [label = \"Expansion \n Scenario\"]\n  \n      node [shape = diamond,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n        \n  d [label = \"Random \n Selection\"]\n  \n  a -> d b -> c c -> b \n  d -> b e -> b e -> c\n  f -> d\n  \n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="benefits-estimations" class="level4">
<h4 class="anchored" data-anchor-id="benefits-estimations">Benefits estimations</h4>
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-72946e5e7a5de32c31f8" style="width:100%;height:483px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-72946e5e7a5de32c31f8">{"x":{"diagram":"digraph {\n  \n  graph [layout = dot,\n         rankdir = TD, \n         nodesep = 1.2, \n         ranksep = 0.5,\n         tooltip = \" \"]\n  \n  node [shape = box,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n\n  edge [penwidth = 2.5, \n        arrowsize = 2,\n        tooltip = \" \"]\n\n  a [label = \"Biomass\"]\n  b [label = \"Soil Carbon \n (Century)\"]\n  c [label = \"Productivity\"]\n  d [label = \"Revenue\"]\n  \n    node [shape = oval,\n        fontname = Helvetica,\n        style = filled,\n        fontcolor = \"#343a40\"\n        fillcolor = \"#f7f7f9\"\n        penwidth = 2.5,\n        width = 3,\n        height = 1.2,\n        fontsize = 25,\n        tooltip = \" \"]\n        \n  e [label = \"Population\"]      \n  f [label = \"Climate\"]\n  g [label = \"Species\"]\n  h [label = \"Management \n Practices\"]\n  \n  a -> b a -> c c -> d \n\n  e -> a e -> c\n  f -> a f -> b f -> c\n  g -> a g ->b g -> c\n  h -> d\n  \n  }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="critical-analysis" class="level3">
<h3 class="anchored" data-anchor-id="critical-analysis">Critical analysis</h3>
<hr>
</section>
</section>
<section id="results" class="level1">
<h1>Results</h1>
<hr>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<hr>
</section>
<section id="conclusions" class="level1">
<h1>Conclusions</h1>
<hr>
</section>
<section id="schedule" class="level1">
<h1>Schedule</h1>
<div class="cell">
<div class="cell-output-display">
<p><img src="manuscript_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="supporting-information" class="level1">
<h1>Supporting Information</h1>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-Azevedo_2018" class="csl-entry" role="doc-biblioentry">
Azevedo, Tasso Rezende de, Ciniro Costa Junior, Amintas Brandão Junior, Marcelo dos Santos Cremer, Marina Piatto, David Shiling Tsai, Paulo Barreto, et al. 2018. <span>“SEEG Initiative Estimates of Brazilian Greenhouse Gas Emissions from 1970 to 2015.”</span> <em>Scientific Data</em> 5 (1). <a href="https://doi.org/10.1038/sdata.2018.45">https://doi.org/10.1038/sdata.2018.45</a>.
</div>
<div id="ref-Bieluczyk2020" class="csl-entry" role="doc-biblioentry">
Bieluczyk, W., M. D. C. Piccolo, M. G. Pereira, M. T. D. Moraes, A. Soltangheisi, A. C. D. C. Bernardi, J. R. M. Pezzopane, et al. 2020. <span>“Integrated Farming Systems Influence Soil Organic Matter Dynamics in Southeastern Brazil.”</span> <em>Geoderma</em> 371. <a href="https://doi.org/10.1016/j.geoderma.2020.114368">https://doi.org/10.1016/j.geoderma.2020.114368</a>.
</div>
<div id="ref-Carvalho_2010" class="csl-entry" role="doc-biblioentry">
Carvalho, Joãoo Luís Nunes, Guilherme Siva Raucci, Carlos Eduardo P. Cerri, Martial Bernoux, Brigitte Josefine Feigl, Flávio Jesus Wruck, and Carlos Clemente Cerri. 2010. <span>“Impact of Pasture, Agriculture and Crop-Livestock Systems on Soil c Stocks in Brazil.”</span> <em>Soil and Tillage Research</em> 110 (1): 175–86. <a href="https://doi.org/10.1016/j.still.2010.07.011">https://doi.org/10.1016/j.still.2010.07.011</a>.
</div>
<div id="ref-Oliveira2018105" class="csl-entry" role="doc-biblioentry">
Oliveira, J. M., B. E. Madari, M. T. M. Carvalho, P. C. R. Assis, A. L. R. Silveira, M. de Leles Lima, F. J. Wruck, J. C. Medeiros, and P. L. O. A. Machado. 2018. <span>“Integrated Farming Systems for Improving Soil Carbon Balance in the Southern Amazon of Brazil.”</span> <em>Regional Environmental Change</em> 18 (1): 105–16. <a href="https://doi.org/10.1007/s10113-017-1146-0">https://doi.org/10.1007/s10113-017-1146-0</a>.
</div>
<div id="ref-Silva2018837" class="csl-entry" role="doc-biblioentry">
Silva, J. C. N., A. R. Silva, C. A. C. Veloso, E. F. Dantas, and J. A. A. S. Do Sacramento. 2018. <span>“Aggregation, Carbon, and Total Soil Nitrogen in Crop-Livestock-Forest Integration in the Eastern Amazon [Agregação, Carbono e Nitrogênio Total Do Solo Em Integração Lavoura-Pecuária-Floresta Na Amazônia Oriental].”</span> <em>Revista Brasileira de Engenharia Agricola e Ambiental</em> 22 (12): 837–42. <a href="https://doi.org/10.1590/1807-1929/agriambi.v22n12p837-842">https://doi.org/10.1590/1807-1929/agriambi.v22n12p837-842</a>.
</div>
<div id="ref-Valani2022" class="csl-entry" role="doc-biblioentry">
Valani, G. P., A. F. Martíni, J. R. M. Pezzopane, A. C. D. C. Bernardi, and M. Cooper. 2022. <span>“Soil Physical Quality in the Topsoil of Integrated and Non-Integrated Grazing Systems in a Brazilian Ferralsol.”</span> <em>Soil and Tillage Research</em> 220. <a href="https://doi.org/10.1016/j.still.2022.105357">https://doi.org/10.1016/j.still.2022.105357</a>.
</div>
</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><div>CC BY-NC-ND 4.0</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>